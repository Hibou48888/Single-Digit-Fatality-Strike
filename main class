//im gonna cry
color background;
player p;
int score;
int shift;
ArrayList<enemy> es;

void setup()
{
  background = color(60,60,60);
  background(background);
  size(1200,600);
  fill(255);
  noStroke();
  smooth();
  rectMode(CENTER);
  score = 0;
  shift = 0;
  p = new player();
  es = new ArrayList<enemy>();
}

void draw()
{
  if((int)random(20) == 10)
  {
    es.add(new enemy());
  }
  
  background(background);
  for(enemy e : es) //goes through the list of enemies and renders them and then moves them
  {
    if(e != null){
      e.render();
      e.tick();
    }
  }
  
  p.render(); //v important
  
}

void keyPressed()
{
  if(keyCode == LEFT)
    for(enemy e : es)
    {
      if(e != null){
        if(e.x >= p.playerX - p.range && e.x < p.playerX){ //checks to see if its within range of the player
          shift(p.playerX - e.x); //shifts everything around the player
          e = null; //deletes the thing
          score++; //pretty self explanitory
        }
      }
    }
}

void shift(float dist)
{
  for(enemy ene : es)
  {
    ene.x += dist; //dist can be negative, so it goes both ways
  }
}
